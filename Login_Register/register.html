<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style/estilos.css">
    <title>Document</title>
</head>

<body>
    <div class="center">
        <h2>Formulario de Registro</h2>
        
        <form action="../controller/register.php" method="post">
          <div class="column">
            <label for="username">Nombre:</label><br>
            <input type="text" id="username" name="username" pattern="[A-Za-z\s]+" required><br>
            <label for="email">Correo Electrónico:</label><br>
            <input type="email" id="email" name="email" required><br>
            <label for="password">Contraseña:</label><br>
            <input type="password" id="password" name="password" pattern="[A-Za-z0-9]+" required><br>
          </div>
          <div class="column">
            <label for="address">Dirección:</label><br>
            <input type="text" id="address" name="address" maxlength="30"><br>
            <label for="city">Ciudad:</label><br>
            <input type="text" id="city" name="city" maxlength="30"><br>
            <label for="zip">Código Postal:</label><br>
            <input type="text" id="zip" name="zip" pattern="\d{5}" required><br><br>
          </div>
          <div class="submit-button">
            <input type="submit" value="Registrar">
          </div>
        </form> 
        
        </div>
        <script>
          document.querySelector("form").addEventListener("submit", function(event) {
              // Obtén los valores del formulario
              var username = document.getElementById("username").value;
              var email = document.getElementById("email").value;
              var password = document.getElementById("password").value;
              var address = document.getElementById("address").value;
              var city = document.getElementById("city").value;
              var zip = document.getElementById("zip").value;
      
              // Comprueba si algún campo está vacío
              if (!username || !email || !password || !address || !city || !zip) {
                  alert("Por favor, rellena todos los campos.");
                  event.preventDefault();
                  return;
              }
      
              // Comprueba si el correo electrónico tiene un formato válido
              var emailRegex = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;
              if (!emailRegex.test(email)) {
                  alert("Por favor, introduce un correo electrónico válido.");
                  event.preventDefault();
                  return;
              }
      
              // Comprueba si la dirección y la ciudad no tienen más de 30 caracteres
              if (address.length > 30 || city.length > 30) {
                  alert("La dirección y la ciudad no pueden tener más de 30 caracteres.");
                  event.preventDefault();
                  return;
              }
      
              // Comprueba si el código postal tiene 5 dígitos
              var zipRegex = /^\d{5}$/;
              if (!zipRegex.test(zip)) {
                  alert("Por favor, introduce un código postal válido de 5 dígitos.");
                  event.preventDefault();
                  return;
              }
          });
      </script>
      
</body>

</html>